{"version":3,"file":"Extract.js","names":["_spawnAsync","data","_interopRequireDefault","require","_tar","obj","__esModule","default","extractAsync","archive","dir","process","platform","spawnAsync","stdio","cwd","__dirname","e","console","error","message","tar","extract","file"],"sources":["../src/Extract.ts"],"sourcesContent":["import spawnAsync from '@expo/spawn-async';\nimport tar from 'tar';\n\nexport async function extractAsync(archive: string, dir: string): Promise<void> {\n  try {\n    if (process.platform !== 'win32') {\n      await spawnAsync('tar', ['-xf', archive, '-C', dir], {\n        stdio: 'inherit',\n        cwd: __dirname,\n      });\n      return;\n    }\n  } catch (e: any) {\n    console.error(e.message);\n  }\n  // tar node module has previously had problems with big files, and seems to\n  // be slower, so only use it as a backup.\n  await tar.extract({ file: archive, cwd: dir });\n}\n"],"mappings":";;;;;;AAAA,SAAAA,YAAA;EAAA,MAAAC,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAH,WAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAG,KAAA;EAAA,MAAAH,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAC,IAAA,YAAAA,CAAA;IAAA,OAAAH,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAAsB,SAAAC,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEf,eAAeG,YAAYA,CAACC,OAAe,EAAEC,GAAW,EAAiB;EAC9E,IAAI;IACF,IAAIC,OAAO,CAACC,QAAQ,KAAK,OAAO,EAAE;MAChC,MAAM,IAAAC,qBAAU,EAAC,KAAK,EAAE,CAAC,KAAK,EAAEJ,OAAO,EAAE,IAAI,EAAEC,GAAG,CAAC,EAAE;QACnDI,KAAK,EAAE,SAAS;QAChBC,GAAG,EAAEC;MACP,CAAC,CAAC;MACF;IACF;EACF,CAAC,CAAC,OAAOC,CAAM,EAAE;IACfC,OAAO,CAACC,KAAK,CAACF,CAAC,CAACG,OAAO,CAAC;EAC1B;EACA;EACA;EACA,MAAMC,cAAG,CAACC,OAAO,CAAC;IAAEC,IAAI,EAAEd,OAAO;IAAEM,GAAG,EAAEL;EAAI,CAAC,CAAC;AAChD"}