{"version":3,"file":"CommandError.js","names":["ERROR_PREFIX","ErrorCodes","INVALID_PROJECT_DIR","INVALID_PROJECT_NAME","INVALID_RUNTIME_VERSION","INVALID_PUBLIC_URL","INVALID_UPDATE_URL","NOT_LOGGED_IN","NON_INTERACTIVE","ACCESS_TOKEN_ERROR","BAD_CHOICE","MISSING_PUBLIC_URL","APPLE_DIST_CERTS_TOO_MANY_GENERATED_ERROR","APPLE_PUSH_KEYS_TOO_MANY_GENERATED_ERROR","MISSING_SLUG","PROJECT_NOT_FOUND","exports","CommandError","Error","constructor","code","message","_defineProperty","startsWith","substring","length","default","AbortCommandError","SilentError","messageOrError","_ref","_messageOrError$stack","_messageOrError$name","stack","name"],"sources":["../src/CommandError.ts"],"sourcesContent":["const ERROR_PREFIX = 'Error: ';\n\nexport const ErrorCodes = {\n  INVALID_PROJECT_DIR: 'INVALID_PROJECT_DIR',\n  INVALID_PROJECT_NAME: 'INVALID_PROJECT_NAME',\n  INVALID_RUNTIME_VERSION: 'INVALID_RUNTIME_VERSION',\n  INVALID_PUBLIC_URL: 'INVALID_PUBLIC_URL',\n  INVALID_UPDATE_URL: 'INVALID_UPDATE_URL',\n  NOT_LOGGED_IN: 'NOT_LOGGED_IN',\n  NON_INTERACTIVE: 'NON_INTERACTIVE',\n  ACCESS_TOKEN_ERROR: 'ACCESS_TOKEN_ERROR',\n  BAD_CHOICE: 'BAD_CHOICE',\n  MISSING_PUBLIC_URL: 'MISSING_PUBLIC_URL',\n  APPLE_DIST_CERTS_TOO_MANY_GENERATED_ERROR: 'APPLE_DIST_CERTS_TOO_MANY_GENERATED_ERROR',\n  APPLE_PUSH_KEYS_TOO_MANY_GENERATED_ERROR: 'APPLE_PUSH_KEYS_TOO_MANY_GENERATED_ERROR',\n  MISSING_SLUG: 'MISSING_SLUG',\n  PROJECT_NOT_FOUND: 'PROJECT_NOT_FOUND',\n};\n\nexport type ErrorCode = keyof typeof ErrorCodes;\n\n/**\n * General error, formatted as a message in red text when caught by expo-cli (no stack trace is printed). Should be used in favor of `log.error()` in most cases.\n */\nexport default class CommandError extends Error {\n  name = 'CommandError';\n  readonly isCommandError = true;\n  code: string;\n\n  constructor(code: string, message: string = '') {\n    super('');\n    // If e.toString() was called to get `message` we don't want it to look\n    // like \"Error: Error:\".\n    if (message.startsWith(ERROR_PREFIX)) {\n      message = message.substring(ERROR_PREFIX.length);\n    }\n\n    this.message = message || code;\n    this.code = code;\n  }\n}\nexport class AbortCommandError extends CommandError {\n  constructor() {\n    super('ABORTED', 'Interactive prompt was cancelled.');\n  }\n}\n\n/**\n * Used to end a CLI process without printing a stack trace in the Expo CLI. Should be used in favor of `process.exit`.\n */\nexport class SilentError extends CommandError {\n  constructor(messageOrError?: string | Error) {\n    const message =\n      (typeof messageOrError === 'string' ? messageOrError : messageOrError?.message) ??\n      'This error should fail silently in the CLI';\n    super('SILENT', message);\n    if (typeof messageOrError !== 'string') {\n      // forward the props of the incoming error for tests or processes outside of expo-cli that use expo cli internals.\n      this.stack = messageOrError?.stack ?? this.stack;\n      this.name = messageOrError?.name ?? this.name;\n    }\n  }\n}\n"],"mappings":";;;;;;;;;AAAA,MAAMA,YAAY,GAAG,SAAS;AAEvB,MAAMC,UAAU,GAAG;EACxBC,mBAAmB,EAAE,qBAAqB;EAC1CC,oBAAoB,EAAE,sBAAsB;EAC5CC,uBAAuB,EAAE,yBAAyB;EAClDC,kBAAkB,EAAE,oBAAoB;EACxCC,kBAAkB,EAAE,oBAAoB;EACxCC,aAAa,EAAE,eAAe;EAC9BC,eAAe,EAAE,iBAAiB;EAClCC,kBAAkB,EAAE,oBAAoB;EACxCC,UAAU,EAAE,YAAY;EACxBC,kBAAkB,EAAE,oBAAoB;EACxCC,yCAAyC,EAAE,2CAA2C;EACtFC,wCAAwC,EAAE,0CAA0C;EACpFC,YAAY,EAAE,cAAc;EAC5BC,iBAAiB,EAAE;AACrB,CAAC;AAACC,OAAA,CAAAf,UAAA,GAAAA,UAAA;AAIF;AACA;AACA;AACe,MAAMgB,YAAY,SAASC,KAAK,CAAC;EAK9CC,WAAWA,CAACC,IAAY,EAAEC,OAAe,GAAG,EAAE,EAAE;IAC9C,KAAK,CAAC,EAAE,CAAC;IACT;IACA;IAAAC,eAAA,eAPK,cAAc;IAAAA,eAAA,yBACK,IAAI;IAAAA,eAAA;IAO5B,IAAID,OAAO,CAACE,UAAU,CAACvB,YAAY,CAAC,EAAE;MACpCqB,OAAO,GAAGA,OAAO,CAACG,SAAS,CAACxB,YAAY,CAACyB,MAAM,CAAC;IAClD;IAEA,IAAI,CAACJ,OAAO,GAAGA,OAAO,IAAID,IAAI;IAC9B,IAAI,CAACA,IAAI,GAAGA,IAAI;EAClB;AACF;AAACJ,OAAA,CAAAU,OAAA,GAAAT,YAAA;AACM,MAAMU,iBAAiB,SAASV,YAAY,CAAC;EAClDE,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,SAAS,EAAE,mCAAmC,CAAC;EACvD;AACF;;AAEA;AACA;AACA;AAFAH,OAAA,CAAAW,iBAAA,GAAAA,iBAAA;AAGO,MAAMC,WAAW,SAASX,YAAY,CAAC;EAC5CE,WAAWA,CAACU,cAA+B,EAAE;IAAA,IAAAC,IAAA;IAC3C,MAAMT,OAAO,IAAAS,IAAA,GACV,OAAOD,cAAc,KAAK,QAAQ,GAAGA,cAAc,GAAGA,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAER,OAAO,cAAAS,IAAA,cAAAA,IAAA,GAC9E,4CAA4C;IAC9C,KAAK,CAAC,QAAQ,EAAET,OAAO,CAAC;IACxB,IAAI,OAAOQ,cAAc,KAAK,QAAQ,EAAE;MAAA,IAAAE,qBAAA,EAAAC,oBAAA;MACtC;MACA,IAAI,CAACC,KAAK,IAAAF,qBAAA,GAAGF,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEI,KAAK,cAAAF,qBAAA,cAAAA,qBAAA,GAAI,IAAI,CAACE,KAAK;MAChD,IAAI,CAACC,IAAI,IAAAF,oBAAA,GAAGH,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEK,IAAI,cAAAF,oBAAA,cAAAA,oBAAA,GAAI,IAAI,CAACE,IAAI;IAC/C;EACF;AACF;AAAClB,OAAA,CAAAY,WAAA,GAAAA,WAAA"}