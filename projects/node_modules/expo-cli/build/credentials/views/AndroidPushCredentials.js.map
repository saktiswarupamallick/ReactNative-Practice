{"version":3,"file":"AndroidPushCredentials.js","names":["_chalk","data","_interopRequireDefault","require","_CommandError","_log","_prompts","obj","__esModule","default","UpdateFcmKey","constructor","experienceName","open","ctx","nonInteractive","CommandError","fcmApiKey","prompt","type","name","message","validate","value","length","android","updateFcmKey","Log","log","chalk","green","exports"],"sources":["../../../src/credentials/views/AndroidPushCredentials.ts"],"sourcesContent":["import chalk from 'chalk';\n\nimport CommandError from '../../CommandError';\nimport Log from '../../log';\nimport prompt from '../../utils/prompts';\nimport { Context, IView } from '../context';\n\nexport class UpdateFcmKey implements IView {\n  constructor(private experienceName: string) {}\n\n  async open(ctx: Context): Promise<IView | null> {\n    if (ctx.nonInteractive) {\n      throw new CommandError(\n        'NON_INTERACTIVE',\n        \"Start the CLI without the '--non-interactive' flag to update the FCM Api key.\"\n      );\n    }\n\n    const { fcmApiKey } = await prompt({\n      type: 'text',\n      name: 'fcmApiKey',\n      message: 'FCM Api Key',\n      validate: (value: string) => value.length > 0 || \"FCM Api Key can't be empty\",\n    });\n\n    await ctx.android.updateFcmKey(this.experienceName, fcmApiKey);\n    Log.log(chalk.green('Updated successfully'));\n    return null;\n  }\n}\n"],"mappings":";;;;;;AAAA,SAAAA,OAAA;EAAA,MAAAC,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAH,MAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAEA,SAAAG,cAAA;EAAA,MAAAH,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAC,aAAA,YAAAA,CAAA;IAAA,OAAAH,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAI,KAAA;EAAA,MAAAJ,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAE,IAAA,YAAAA,CAAA;IAAA,OAAAJ,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAK,SAAA;EAAA,MAAAL,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAG,QAAA,YAAAA,CAAA;IAAA,OAAAL,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAAyC,SAAAC,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAGlC,MAAMG,YAAY,CAAkB;EACzCC,WAAWA,CAASC,cAAsB,EAAE;IAAA,KAAxBA,cAAsB,GAAtBA,cAAsB;EAAG;EAE7C,MAAMC,IAAIA,CAACC,GAAY,EAAyB;IAC9C,IAAIA,GAAG,CAACC,cAAc,EAAE;MACtB,MAAM,KAAIC,uBAAY,EACpB,iBAAiB,EACjB,+EACF,CAAC;IACH;IAEA,MAAM;MAAEC;IAAU,CAAC,GAAG,MAAM,IAAAC,kBAAM,EAAC;MACjCC,IAAI,EAAE,MAAM;MACZC,IAAI,EAAE,WAAW;MACjBC,OAAO,EAAE,aAAa;MACtBC,QAAQ,EAAGC,KAAa,IAAKA,KAAK,CAACC,MAAM,GAAG,CAAC,IAAI;IACnD,CAAC,CAAC;IAEF,MAAMV,GAAG,CAACW,OAAO,CAACC,YAAY,CAAC,IAAI,CAACd,cAAc,EAAEK,SAAS,CAAC;IAC9DU,cAAG,CAACC,GAAG,CAACC,gBAAK,CAACC,KAAK,CAAC,sBAAsB,CAAC,CAAC;IAC5C,OAAO,IAAI;EACb;AACF;AAACC,OAAA,CAAArB,YAAA,GAAAA,YAAA"}