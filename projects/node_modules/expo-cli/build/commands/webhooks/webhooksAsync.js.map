{"version":3,"file":"webhooksAsync.js","names":["_chalk","data","_interopRequireDefault","require","_cliTable","_log","_utils","obj","__esModule","default","actionAsync","projectRoot","experienceName","project","client","setupAsync","webhooks","getAsync","id","length","table","CliTable","head","push","map","hook","url","event","Log","log","toString","chalk","bold"],"sources":["../../../src/commands/webhooks/webhooksAsync.ts"],"sourcesContent":["import chalk from 'chalk';\nimport CliTable from 'cli-table3';\n\nimport Log from '../../log';\nimport { setupAsync, WebhookEvent } from './utils';\n\ntype Webhook = {\n  id: string;\n  url: string;\n  event: WebhookEvent;\n  secret?: string;\n};\n\nexport async function actionAsync(projectRoot: string) {\n  const { experienceName, project, client } = await setupAsync(projectRoot);\n\n  const webhooks = await client.getAsync(`projects/${project.id}/webhooks`);\n  if (webhooks.length) {\n    const table = new CliTable({ head: ['Webhook ID', 'URL', 'Event'] });\n    table.push(...webhooks.map((hook: Webhook) => [hook.id, hook.url, hook.event]));\n    Log.log(table.toString());\n  } else {\n    Log.log(`${chalk.bold(experienceName)} has no webhooks.`);\n    Log.log('Use `expo webhooks:add` to add one.');\n  }\n}\n"],"mappings":";;;;;;AAAA,SAAAA,OAAA;EAAA,MAAAC,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAH,MAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAG,UAAA;EAAA,MAAAH,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAC,SAAA,YAAAA,CAAA;IAAA,OAAAH,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAEA,SAAAI,KAAA;EAAA,MAAAJ,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAE,IAAA,YAAAA,CAAA;IAAA,OAAAJ,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAK,OAAA;EAAA,MAAAL,IAAA,GAAAE,OAAA;EAAAG,MAAA,YAAAA,CAAA;IAAA,OAAAL,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAAmD,SAAAC,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAS5C,eAAeG,WAAWA,CAACC,WAAmB,EAAE;EACrD,MAAM;IAAEC,cAAc;IAAEC,OAAO;IAAEC;EAAO,CAAC,GAAG,MAAM,IAAAC,mBAAU,EAACJ,WAAW,CAAC;EAEzE,MAAMK,QAAQ,GAAG,MAAMF,MAAM,CAACG,QAAQ,CAAE,YAAWJ,OAAO,CAACK,EAAG,WAAU,CAAC;EACzE,IAAIF,QAAQ,CAACG,MAAM,EAAE;IACnB,MAAMC,KAAK,GAAG,KAAIC,mBAAQ,EAAC;MAAEC,IAAI,EAAE,CAAC,YAAY,EAAE,KAAK,EAAE,OAAO;IAAE,CAAC,CAAC;IACpEF,KAAK,CAACG,IAAI,CAAC,GAAGP,QAAQ,CAACQ,GAAG,CAAEC,IAAa,IAAK,CAACA,IAAI,CAACP,EAAE,EAAEO,IAAI,CAACC,GAAG,EAAED,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC;IAC/EC,cAAG,CAACC,GAAG,CAACT,KAAK,CAACU,QAAQ,CAAC,CAAC,CAAC;EAC3B,CAAC,MAAM;IACLF,cAAG,CAACC,GAAG,CAAE,GAAEE,gBAAK,CAACC,IAAI,CAACpB,cAAc,CAAE,mBAAkB,CAAC;IACzDgB,cAAG,CAACC,GAAG,CAAC,qCAAqC,CAAC;EAChD;AACF"}