{"version":3,"file":"sendAsync.js","names":["_chalk","data","_interopRequireDefault","require","_xdl","_log","sendTo","_interopRequireWildcard","_urlOpts","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","actionAsync","projectRoot","options","urlOpts","optsAsync","url","UrlUtils","constructDeepLinkAsync","Log","nested","chalk","underline","handleMobileOptsAsync","recipient","UserSettings","getAsync","askForSendToAsync","sendUrlAsync"],"sources":["../../src/commands/sendAsync.ts"],"sourcesContent":["import chalk from 'chalk';\nimport { UrlUtils, UserSettings } from 'xdl';\n\nimport Log from '../log';\nimport * as sendTo from './utils/sendTo';\nimport urlOpts, { URLOptions } from './utils/urlOpts';\n\ntype Options = Partial<URLOptions & { sendTo?: string }>;\n\nexport async function actionAsync(projectRoot: string, options: Options) {\n  await urlOpts.optsAsync(projectRoot, options);\n\n  const url = await UrlUtils.constructDeepLinkAsync(projectRoot);\n\n  Log.nested('Project manifest URL\\n\\n' + chalk.underline(url) + '\\n');\n\n  if (await urlOpts.handleMobileOptsAsync(projectRoot, options)) {\n    return;\n  }\n\n  let recipient =\n    typeof options.sendTo !== 'boolean'\n      ? options.sendTo\n      : await UserSettings.getAsync('sendTo', null);\n\n  if (!recipient) {\n    recipient = await sendTo.askForSendToAsync();\n  }\n\n  await sendTo.sendUrlAsync(url, recipient);\n}\n"],"mappings":"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"}