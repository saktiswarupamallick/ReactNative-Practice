{"version":3,"file":"Tar.js","names":["_got","data","_interopRequireDefault","require","_stream","_tar","_util","_progress","obj","__esModule","default","pipeline","promisify","stream","downloadAndDecompressAsync","url","destination","downloadStream","got","on","createProgressTracker","tar","extract","cwd"],"sources":["../../../src/commands/utils/Tar.ts"],"sourcesContent":["import got from 'got';\nimport stream from 'stream';\nimport tar from 'tar';\nimport { promisify } from 'util';\n\nimport { createProgressTracker } from './progress';\n\nconst pipeline = promisify(stream.pipeline);\n\n/**\n * Download a tar.gz file and extract it to a folder.\n *\n * @param url remote URL to download.\n * @param destination destination folder to extract the tar to.\n */\nexport async function downloadAndDecompressAsync(\n  url: string,\n  destination: string\n): Promise<string> {\n  const downloadStream = got.stream(url).on('downloadProgress', createProgressTracker());\n\n  await pipeline(downloadStream, tar.extract({ cwd: destination }));\n  return destination;\n}\n"],"mappings":";;;;;;AAAA,SAAAA,KAAA;EAAA,MAAAC,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAH,IAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAG,QAAA;EAAA,MAAAH,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAC,OAAA,YAAAA,CAAA;IAAA,OAAAH,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAI,KAAA;EAAA,MAAAJ,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAE,IAAA,YAAAA,CAAA;IAAA,OAAAJ,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAK,MAAA;EAAA,MAAAL,IAAA,GAAAE,OAAA;EAAAG,KAAA,YAAAA,CAAA;IAAA,OAAAL,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAEA,SAAAM,UAAA;EAAA,MAAAN,IAAA,GAAAE,OAAA;EAAAI,SAAA,YAAAA,CAAA;IAAA,OAAAN,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAAmD,SAAAC,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEnD,MAAMG,QAAQ,GAAG,IAAAC,iBAAS,EAACC,iBAAM,CAACF,QAAQ,CAAC;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACO,eAAeG,0BAA0BA,CAC9CC,GAAW,EACXC,WAAmB,EACF;EACjB,MAAMC,cAAc,GAAGC,cAAG,CAACL,MAAM,CAACE,GAAG,CAAC,CAACI,EAAE,CAAC,kBAAkB,EAAE,IAAAC,iCAAqB,EAAC,CAAC,CAAC;EAEtF,MAAMT,QAAQ,CAACM,cAAc,EAAEI,cAAG,CAACC,OAAO,CAAC;IAAEC,GAAG,EAAEP;EAAY,CAAC,CAAC,CAAC;EACjE,OAAOA,WAAW;AACpB"}