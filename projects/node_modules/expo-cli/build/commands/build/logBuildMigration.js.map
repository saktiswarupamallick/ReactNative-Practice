{"version":3,"file":"logBuildMigration.js","names":["_chalk","data","_interopRequireDefault","require","_log","TerminalLink","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","daysUntilDate","date","today","Date","eventDate","timeDiff","getTime","diffDays","Math","ceil","logBuildMigration","platform","Log","newLine","command","chalk","bold","log","dim","learnMore","cyan","linkedText","endDate","daysLeft","red"],"sources":["../../../src/commands/build/logBuildMigration.ts"],"sourcesContent":["import chalk from 'chalk';\n\nimport Log from '../../log';\nimport * as TerminalLink from '../utils/TerminalLink';\n\nconst daysUntilDate = (date: string) => {\n  const today = new Date();\n  const eventDate = new Date(date);\n  const timeDiff = eventDate.getTime() - today.getTime();\n  if (timeDiff < 0) {\n    return 0;\n  }\n  const diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\n  return diffDays;\n};\n\nexport function logBuildMigration(platform: string) {\n  Log.newLine();\n  const command = chalk.bold(`expo build:${platform}`);\n  Log.log(\n    `${command} has been superseded by ${chalk.bold`eas build`}. ${chalk.dim(\n      TerminalLink.learnMore(`https://blog.expo.dev/turtle-goes-out-to-sea-d334db2a6b60`)\n    )}`\n  );\n  Log.newLine();\n  Log.log('Run the following:');\n  Log.newLine();\n  Log.log('\\u203A ' + chalk.cyan.bold('npm install -g eas-cli'));\n  Log.log(\n    `\\u203A ${TerminalLink.linkedText(\n      chalk.cyan.bold(`eas build -p ${platform}`),\n      `https://docs.expo.dev/build/setup/`\n    )}`\n  );\n\n  const endDate = 'January 4, 2023';\n  const daysLeft = daysUntilDate(endDate);\n  Log.newLine();\n\n  if (daysLeft) {\n    Log.log(\n      `${command} will be discontinued on ${chalk.bold(endDate)} (${daysLeft} day${\n        daysLeft === 1 ? '' : 's'\n      } left).`\n    );\n  } else {\n    Log.log(chalk.red(`${command} has been discontinued (${chalk.bold(endDate)}).`));\n  }\n  Log.newLine();\n}\n"],"mappings":"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"}