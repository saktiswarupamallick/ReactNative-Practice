{"version":3,"file":"startBundlerAsync.js","names":["_xdl","data","require","TerminalUI","_interopRequireWildcard","_installExitHooks","_schemes","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","setGlobalDevClientSettingsAsync","projectRoot","devClient","scheme","getOptionalDevClientSchemeAsync","catch","ProjectSettings","setAsync","startBundlerAsync","metroPort","platforms","installExitHooks","Project","startAsync","isWebSocketsEnabled","isRemoteReloadingEnabled"],"sources":["../../../../src/commands/run/ios/startBundlerAsync.ts"],"sourcesContent":["import { Project, ProjectSettings } from 'xdl';\n\nimport * as TerminalUI from '../../start/TerminalUI';\nimport { installExitHooks } from '../../start/installExitHooks';\nimport { getOptionalDevClientSchemeAsync } from '../utils/schemes';\n\nexport async function setGlobalDevClientSettingsAsync(projectRoot: string) {\n  const devClient = true;\n  const scheme = await getOptionalDevClientSchemeAsync(projectRoot).catch(() => null);\n  await ProjectSettings.setAsync(projectRoot, {\n    devClient,\n    scheme,\n  });\n}\n\nexport async function startBundlerAsync(\n  projectRoot: string,\n  { metroPort, platforms }: Pick<Project.StartOptions, 'metroPort' | 'platforms'>\n) {\n  // Add clean up hooks\n  installExitHooks(projectRoot);\n  // This basically means don't use the Client app.\n  const devClient = true;\n  await Project.startAsync(projectRoot, { devClient, metroPort });\n  await TerminalUI.startAsync(projectRoot, {\n    devClient,\n    // Enable controls\n    isWebSocketsEnabled: true,\n    isRemoteReloadingEnabled: true,\n    platforms,\n  });\n}\n"],"mappings":";;;;;;;AAAA,SAAAA,KAAA;EAAA,MAAAC,IAAA,GAAAC,OAAA;EAAAF,IAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAEA,SAAAE,WAAA;EAAA,MAAAF,IAAA,GAAAG,uBAAA,CAAAF,OAAA;EAAAC,UAAA,YAAAA,CAAA;IAAA,OAAAF,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAI,kBAAA;EAAA,MAAAJ,IAAA,GAAAC,OAAA;EAAAG,iBAAA,YAAAA,CAAA;IAAA,OAAAJ,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAK,SAAA;EAAA,MAAAL,IAAA,GAAAC,OAAA;EAAAI,QAAA,YAAAA,CAAA;IAAA,OAAAL,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAAmE,SAAAM,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAJ,wBAAAQ,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAE5D,eAAeW,+BAA+BA,CAACC,WAAmB,EAAE;EACzE,MAAMC,SAAS,GAAG,IAAI;EACtB,MAAMC,MAAM,GAAG,MAAM,IAAAC,0CAA+B,EAACH,WAAW,CAAC,CAACI,KAAK,CAAC,MAAM,IAAI,CAAC;EACnF,MAAMC,sBAAe,CAACC,QAAQ,CAACN,WAAW,EAAE;IAC1CC,SAAS;IACTC;EACF,CAAC,CAAC;AACJ;AAEO,eAAeK,iBAAiBA,CACrCP,WAAmB,EACnB;EAAEQ,SAAS;EAAEC;AAAiE,CAAC,EAC/E;EACA;EACA,IAAAC,oCAAgB,EAACV,WAAW,CAAC;EAC7B;EACA,MAAMC,SAAS,GAAG,IAAI;EACtB,MAAMU,cAAO,CAACC,UAAU,CAACZ,WAAW,EAAE;IAAEC,SAAS;IAAEO;EAAU,CAAC,CAAC;EAC/D,MAAMnC,UAAU,CAAD,CAAC,CAACuC,UAAU,CAACZ,WAAW,EAAE;IACvCC,SAAS;IACT;IACAY,mBAAmB,EAAE,IAAI;IACzBC,wBAAwB,EAAE,IAAI;IAC9BL;EACF,CAAC,CAAC;AACJ"}