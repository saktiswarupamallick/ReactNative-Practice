{"version":3,"file":"logoutAsync.js","names":["_xdl","data","require","_CommandError","_interopRequireDefault","_log","obj","__esModule","default","actionAsync","user","UserManager","getCurrentUserAsync","silent","accessToken","CommandError","logoutAsync","Log","log","e","message"],"sources":["../../../src/commands/auth/logoutAsync.ts"],"sourcesContent":["import { UserManager } from 'xdl';\n\nimport CommandError from '../../CommandError';\nimport Log from '../../log';\n\nexport async function actionAsync() {\n  const user = await UserManager.getCurrentUserAsync({ silent: true });\n  if (user?.accessToken) {\n    throw new CommandError(\n      'ACCESS_TOKEN_ERROR',\n      'Please remove the EXPO_TOKEN environment var to logout.'\n    );\n  }\n\n  try {\n    await UserManager.logoutAsync();\n    Log.log('Logged out');\n  } catch (e: any) {\n    throw new CommandError(`Couldn't logout: ${e.message}`);\n  }\n}\n"],"mappings":";;;;;;AAAA,SAAAA,KAAA;EAAA,MAAAC,IAAA,GAAAC,OAAA;EAAAF,IAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAEA,SAAAE,cAAA;EAAA,MAAAF,IAAA,GAAAG,sBAAA,CAAAF,OAAA;EAAAC,aAAA,YAAAA,CAAA;IAAA,OAAAF,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAI,KAAA;EAAA,MAAAJ,IAAA,GAAAG,sBAAA,CAAAF,OAAA;EAAAG,IAAA,YAAAA,CAAA;IAAA,OAAAJ,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAA4B,SAAAG,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAErB,eAAeG,WAAWA,CAAA,EAAG;EAClC,MAAMC,IAAI,GAAG,MAAMC,kBAAW,CAACC,mBAAmB,CAAC;IAAEC,MAAM,EAAE;EAAK,CAAC,CAAC;EACpE,IAAIH,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEI,WAAW,EAAE;IACrB,MAAM,KAAIC,uBAAY,EACpB,oBAAoB,EACpB,yDACF,CAAC;EACH;EAEA,IAAI;IACF,MAAMJ,kBAAW,CAACK,WAAW,CAAC,CAAC;IAC/BC,cAAG,CAACC,GAAG,CAAC,YAAY,CAAC;EACvB,CAAC,CAAC,OAAOC,CAAM,EAAE;IACf,MAAM,KAAIJ,uBAAY,EAAE,oBAAmBI,CAAC,CAACC,OAAQ,EAAC,CAAC;EACzD;AACF"}