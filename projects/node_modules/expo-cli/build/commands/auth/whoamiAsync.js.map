{"version":3,"file":"whoamiAsync.js","names":["_chalk","data","_interopRequireDefault","require","_xdl","_log","obj","__esModule","default","actionAsync","command","user","UserManager","getCurrentUserAsync","silent","_command$parent","parent","nonInteractive","Log","nested","username","log","chalk","cyan","process","exit"],"sources":["../../../src/commands/auth/whoamiAsync.ts"],"sourcesContent":["import chalk from 'chalk';\nimport { UserManager } from 'xdl';\n\nimport Log from '../../log';\n\nexport type Options = {\n  parent?: {\n    nonInteractive: boolean;\n  };\n};\n\nexport async function actionAsync(command: Options) {\n  const user = await UserManager.getCurrentUserAsync({ silent: true });\n  if (user) {\n    if (command.parent?.nonInteractive) {\n      Log.nested(user.username);\n    } else {\n      Log.log(`Logged in as ${chalk.cyan(user.username)}`);\n    }\n  } else {\n    Log.log(`\\u203A Not logged in, run ${chalk.cyan`expo login`} to authenticate`);\n    process.exit(1);\n  }\n}\n"],"mappings":";;;;;;AAAA,SAAAA,OAAA;EAAA,MAAAC,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAH,MAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAG,KAAA;EAAA,MAAAH,IAAA,GAAAE,OAAA;EAAAC,IAAA,YAAAA,CAAA;IAAA,OAAAH,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAEA,SAAAI,KAAA;EAAA,MAAAJ,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAE,IAAA,YAAAA,CAAA;IAAA,OAAAJ,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAA4B,SAAAC,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAQrB,eAAeG,WAAWA,CAACC,OAAgB,EAAE;EAClD,MAAMC,IAAI,GAAG,MAAMC,kBAAW,CAACC,mBAAmB,CAAC;IAAEC,MAAM,EAAE;EAAK,CAAC,CAAC;EACpE,IAAIH,IAAI,EAAE;IAAA,IAAAI,eAAA;IACR,KAAAA,eAAA,GAAIL,OAAO,CAACM,MAAM,cAAAD,eAAA,eAAdA,eAAA,CAAgBE,cAAc,EAAE;MAClCC,cAAG,CAACC,MAAM,CAACR,IAAI,CAACS,QAAQ,CAAC;IAC3B,CAAC,MAAM;MACLF,cAAG,CAACG,GAAG,CAAE,gBAAeC,gBAAK,CAACC,IAAI,CAACZ,IAAI,CAACS,QAAQ,CAAE,EAAC,CAAC;IACtD;EACF,CAAC,MAAM;IACLF,cAAG,CAACG,GAAG,CAAE,6BAA4BC,gBAAK,CAACC,IAAK,YAAY,kBAAiB,CAAC;IAC9EC,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;EACjB;AACF"}